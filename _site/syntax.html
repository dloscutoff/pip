<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Syntax - Pip Docs</title> <link rel="shortcut icon" href="http://localhost:4000/pip/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/pip/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/pip/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/pip/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Syntax | Pip Docs</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Syntax" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Pip Golfing Language Documentation Website" /> <meta property="og:description" content="Pip Golfing Language Documentation Website" /> <link rel="canonical" href="http://localhost:4000/pip/syntax" /> <meta property="og:url" content="http://localhost:4000/pip/syntax" /> <meta property="og:site_name" content="Pip Docs" /> <script type="application/ld+json"> {"url":"http://localhost:4000/pip/syntax","description":"Pip Golfing Language Documentation Website","@type":"WebPage","headline":"Syntax","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/pip/" class="site-title lh-tight"> Pip Docs </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/pip/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="http://localhost:4000/pip/getting-started" class="nav-list-link">Getting Started</a></li><li class="nav-list-item active"><a href="http://localhost:4000/pip/syntax" class="nav-list-link active">Syntax</a></li><li class="nav-list-item"><a href="http://localhost:4000/pip/examples" class="nav-list-link">Example Programs</a></li><li class="nav-list-item"><a href="http://localhost:4000/pip/commands" class="nav-list-link">Commands</a></li><li class="nav-list-item"><a href="http://localhost:4000/pip/operators" class="nav-list-link">List of Operators</a></li><li class="nav-list-item"><a href="http://localhost:4000/pip/cli-flags" class="nav-list-link">Command Line Flags</a></li><li class="nav-list-item"><a href="http://localhost:4000/pip/pre-defs" class="nav-list-link">Pre-defined Variables</a></li><li class="nav-list-item"><a href="http://localhost:4000/pip/regex" class="nav-list-link">Regex</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Pip Docs" aria-label="Search Pip Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/dloscutoff/pip" class="site-button" target="_blank" rel="noopener noreferrer" > Pip on GitHub </a> </li> <li class="aux-nav-list-item"> <a href="https://tio.run/#pip" class="site-button" target="_blank" rel="noopener noreferrer" > Try It Online! </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content" role="main"> <h1 id="pip-syntax"> <a href="#pip-syntax" aria-labelledby="pip-syntax" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pip syntax </h1> <p>The syntax of Pip is generally C-like with strong influence from Python, Perl/PHP, and various golfing languages. A few features are reminiscent of Bash script or Lisp.</p> <h3 id="tokens"> <a href="#tokens" aria-labelledby="tokens" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Tokens </h3> <p>Tokens in Pip can be any of the following:</p> <ul> <li>Number (consecutive digits, optionally followed by a period and more consecutive digits)</li> <li>String literal (between “double quotes”)</li> <li>Single-character string literal (a ‘ single quote followed by any character–no escapes)</li> <li>Escaped string literal (between "escaped quotes"–allows literal double quotes as well as variable interpolation)</li> <li>Pattern literal (between `backticks`–backslash escapes for backtick &amp; backslash)</li> <li>Operator (one or more symbols or uppercase letters)</li> <li>Lowercase identifier (a single lowercase letter; runs of lowercase letters become multiple identifiers)</li> <li>Uppercase identifier (one or two uppercase letters which are not an operator)</li> <li>Underscore (identity function; see below)</li> <li>Delimiters (parens, square braces, curly braces, semicolon)</li> </ul> <h3 id="parsing"> <a href="#parsing" aria-labelledby="parsing" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parsing </h3> <p>Because uppercase identifiers and operators are limited to two characters, the scanner breaks a longer run of them into multiple tokens. For example, <code class="language-plaintext highlighter-rouge">LCAZ</code> is equivalent to <code class="language-plaintext highlighter-rouge">LC AZ</code>. If the run contains an odd number of characters, it is interpreted as having a single-character token at the beginning: <code class="language-plaintext highlighter-rouge">PLCAZ</code> is <code class="language-plaintext highlighter-rouge">P LC AZ</code>.</p> <h3 id="string-literals"> <a href="#string-literals" aria-labelledby="string-literals" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> String literals </h3> <p>Escaped string literals warrant further explanation. The delimiter is <code class="language-plaintext highlighter-rouge">\"</code>, and therefore literal double quotes can be placed inside the string without escaping them (<code class="language-plaintext highlighter-rouge">\"like "this"\"</code>). Backslashes do need to be escaped with a second backslash (unlike in regular string literals). A backslash followed by an identifier is a variable interpolation: for example, <code class="language-plaintext highlighter-rouge">\"Value is \v.\"</code> This usage is syntactic sugar for <code class="language-plaintext highlighter-rouge">(J["Value is ";STv;"."])</code>. Expressions cannot be interpolated at present.</p> <h3 id="comments"> <a href="#comments" aria-labelledby="comments" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Comments </h3> <p>Comments come in two types: lines that start with a (possibly indented) semicolon, and anything at the end of a line if preceded by two or more spaces.</p><pre>; This is a comment.
x:42  This is a comment too.</pre><h3 id="whitespace"> <a href="#whitespace" aria-labelledby="whitespace" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Whitespace </h3> <p>Whitespace is not significant except for indicating comments and separating tokens.</p> <p>For example, <code class="language-plaintext highlighter-rouge">(- -5)</code> returns 5,</p> <p>But <code class="language-plaintext highlighter-rouge">(--5)</code> returns 4 because <code class="language-plaintext highlighter-rouge">--</code> is the decrement operator.</p> <h3 id="types"> <a href="#types" aria-labelledby="types" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Types </h3> <p>There are 6 data types in Pip:</p> <ul> <li><strong>Scalar</strong> represents strings and numbers, similar to scalar variables in Perl. A string in numeric context is converted to a number by taking the leading run of digits, possibly with a minus sign or decimal point.</li> <li><strong>List</strong> is similar to lists in Python: dynamically resizeable, can hold items of any type including other lists, etc.</li> <li><strong>Range</strong> has a lower and upper bound, and usually represents all integers &gt;= the lower bound and &lt; the upper bound. <code class="language-plaintext highlighter-rouge">5,10</code> is functionally equivalent to <code class="language-plaintext highlighter-rouge">[5 6 7 8 9]</code> in most contexts, but potentially more efficient since the numbers need not all be generated. Infinite ranges can be created by passing an upper bound of nil. Ranges are also used for string/array slicing, in which context negative indices may be used: <code class="language-plaintext highlighter-rouge">"Hello"@(1,-1)</code> == <code class="language-plaintext highlighter-rouge">"ell"</code>.</li> <li><strong>Pattern</strong> represents regular expressions and replacement patterns. See <a href="regex">Regex operations</a>.</li> <li><strong>Block</strong> represents a code block or function.</li> <li><strong>Nil</strong> is a singleton type, similar to <code class="language-plaintext highlighter-rouge">null</code> or <code class="language-plaintext highlighter-rouge">None</code> from other languages. Note that many situations that would cause a runtime error in other languages (such as dividing by zero) simply return nil in Pip (unless warnings are turned on using the -w or -d flags). Most operators, when given nil as an operand, return nil.</li> </ul> <p>Boolean expressions return <code class="language-plaintext highlighter-rouge">0</code> and <code class="language-plaintext highlighter-rouge">1</code>. The values <code class="language-plaintext highlighter-rouge">0</code> (and variants like <code class="language-plaintext highlighter-rouge">0.0</code>), <code class="language-plaintext highlighter-rouge">""</code>, <code class="language-plaintext highlighter-rouge">[]</code>, <code>``</code>, and nil are falsy; all others are truthy.</p> <p>Many operators, including arithmetic and most string operators, function memberwise on ranges and lists, similar to array-programming languages like APL. For example, <code class="language-plaintext highlighter-rouge">[1 2 3]+[6 5 4]</code> is <code class="language-plaintext highlighter-rouge">[7 7 7]</code>, and <code class="language-plaintext highlighter-rouge">"Hello".1,3</code> is <code class="language-plaintext highlighter-rouge">["Hello1" "Hello2"]</code>.</p> <p>Most operators can be used to construct lambda expressions from the identity function <code class="language-plaintext highlighter-rouge">_</code>. For instance, <code class="language-plaintext highlighter-rouge">3*_+1</code> is a function equivalent to <code class="language-plaintext highlighter-rouge">{3*a+1}</code>. This does not work with certain operators, particularly logic operators and operators that otherwise take functions as operands (such as <code class="language-plaintext highlighter-rouge">M</code> or <code class="language-plaintext highlighter-rouge">R</code>).</p> <hr /> <h2 id="general-program-syntax"> <a href="#general-program-syntax" aria-labelledby="general-program-syntax" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> General Program Syntax </h2> <p>Programs consist of a series of statements that are executed one by one. Bare expressions also count as statements. If the program ends with a bare expression, its value is automatically printed. To suppress printing, end the program with a statement or a nil expression. <strong>Note</strong>: <code class="language-plaintext highlighter-rouge">P</code> and <code class="language-plaintext highlighter-rouge">O</code> are operators, not statements, so code like <code class="language-plaintext highlighter-rouge">P"abcd"</code> at the end of the program will print twice. Use <code class="language-plaintext highlighter-rouge">"abcd"</code> instead.</p> <p>Expressions use infix operators; precedence/associativity may be coerced using parentheses. Basic operators are mostly chosen to coincide with familiar ones from C, Python, or Perl/PHP: <code class="language-plaintext highlighter-rouge">+-*/%!?</code> are as expected; comparison operators chain, as in Python; <code class="language-plaintext highlighter-rouge">.</code>, <code class="language-plaintext highlighter-rouge">X</code>, and string comparison operators are borrowed from Perl, <code class="language-plaintext highlighter-rouge">//</code> integer division and <code class="language-plaintext highlighter-rouge">**</code> exponentiation from Python. A few potential “gotchas”:</p> <ul> <li><code class="language-plaintext highlighter-rouge">&amp;</code> and <code class="language-plaintext highlighter-rouge">|</code> are logical, not bitwise operators</li> <li>The assignment operator is <code class="language-plaintext highlighter-rouge">:</code>, freeing up <code class="language-plaintext highlighter-rouge">=</code> to be the (numeric) equality operator</li> <li>Ternary operators do not have a symbol between their second and third arguments: <code class="language-plaintext highlighter-rouge">a?"Yes""No"</code></li> <li>Increment <code class="language-plaintext highlighter-rouge">++</code> and decrement <code class="language-plaintext highlighter-rouge">--</code> are pre- only (i.e. you can do <code class="language-plaintext highlighter-rouge">++x</code> but not <code class="language-plaintext highlighter-rouge">x++</code>)</li> </ul> <p>Lists are constructed via square braces: <code class="language-plaintext highlighter-rouge">[1 2 3]</code>. No separator is necessary, except in cases of ambiguity in scanning or parsing: <code class="language-plaintext highlighter-rouge">[-1 2 3]</code> works as expected, but <code class="language-plaintext highlighter-rouge">[1 -2 3]</code> is actually <code class="language-plaintext highlighter-rouge">[-1 3]</code> because the <code class="language-plaintext highlighter-rouge">-</code> is treated as a binary operator if possible. Here, the expression terminator <code class="language-plaintext highlighter-rouge">;</code> can be used to eliminate the ambiguity: <code class="language-plaintext highlighter-rouge">[1;-2 3]</code>. (<code class="language-plaintext highlighter-rouge">;</code> can also be useful with ternary operators: <code class="language-plaintext highlighter-rouge">a?1;-1</code>.) By default, all elements are concatenated together when a list is printed, but there are several <a href="cli-flags">Command-line flags</a> that provide different formats.</p> <p>As in C, assignments are valid expressions that can be used anywhere an expression can be used: in a loop test, for example. Appending a colon to any operator turns it into a compound assignment operator: <code class="language-plaintext highlighter-rouge">x+:5</code> is equivalent to <code class="language-plaintext highlighter-rouge">x:x+5</code>. This also works with unary and ternary operators: <code class="language-plaintext highlighter-rouge">-:x</code> flips the sign of the variable.</p> <p>Another meta-operator is <code class="language-plaintext highlighter-rouge">$</code>, fold. Prepended to a binary operator, it turns it into a unary fold operation on that operator: e.g., <code class="language-plaintext highlighter-rouge">$+[1 2 3 4]</code> gives 10. <strong>Note</strong>: the precedence of the compound operator is the same as that of the original binary operator, so <code class="language-plaintext highlighter-rouge">$.[1 2]+3</code> is interpreted as <code class="language-plaintext highlighter-rouge">$.([1 2]+3)</code> == <code class="language-plaintext highlighter-rouge">$.[4 5]</code> == 45. Folding respects the associativity of the operator: <code class="language-plaintext highlighter-rouge">$**[2 3 4]</code> is <code class="language-plaintext highlighter-rouge">2**(3**4)</code>, not <code class="language-plaintext highlighter-rouge">(2**3)**4</code>. Furthermore, folding on a chaining comparison operator results in a chaining comparison: <code class="language-plaintext highlighter-rouge">$&gt;[9 8 7]</code> is <code class="language-plaintext highlighter-rouge">9&gt;8&gt;7</code> (true), not <code class="language-plaintext highlighter-rouge">(9&gt;8)&gt;7</code> (equiv to <code class="language-plaintext highlighter-rouge">1&gt;7</code>, false).</p> <p>When <code class="language-plaintext highlighter-rouge">*</code> is appended to a unary operator, it becomes a map meta-operator: <code class="language-plaintext highlighter-rouge">#[123 4567]</code> gives the length of the list, <code class="language-plaintext highlighter-rouge">2</code>, but <code class="language-plaintext highlighter-rouge">#*[123 4567]</code> gives <code class="language-plaintext highlighter-rouge">[3 4]</code>, the length of each item in the list.</p> <p>The <code class="language-plaintext highlighter-rouge">$</code> and <code class="language-plaintext highlighter-rouge">*</code> meta-operators leave the precedence of the operator unchanged, but <code class="language-plaintext highlighter-rouge">:</code> changes the precedence to the precedence of the assignment operator. Meta-operators can be combined: <code class="language-plaintext highlighter-rouge">$+*:x</code> sums over each item in <code class="language-plaintext highlighter-rouge">x</code> and assigns the resulting list back to <code class="language-plaintext highlighter-rouge">x</code>. If <code class="language-plaintext highlighter-rouge">*</code> and <code class="language-plaintext highlighter-rouge">:</code> are both present, <code class="language-plaintext highlighter-rouge">*</code> must come first.</p> <p>As in C, loops and if statements use curly braces to mark off their blocks, and the curly braces can be dropped if the block is a single statement.</p> <p>Curly braces are also used to construct functions, which are first-class objects and can be assigned to variables, passed to other functions, etc. Functions are called via a Lisp-like syntax: <code class="language-plaintext highlighter-rouge">(fxyz)</code> calls the function <code class="language-plaintext highlighter-rouge">f</code> with arguments <code class="language-plaintext highlighter-rouge">x</code>, <code class="language-plaintext highlighter-rouge">y</code>, and <code class="language-plaintext highlighter-rouge">z</code>. (This syntax makes parsing much, much easier!) If the <code class="language-plaintext highlighter-rouge">(fxyz)</code> syntax is used with <code class="language-plaintext highlighter-rouge">f</code> being a list, scalar, or range rather than a function, it is an alternate syntax for subscripting: <code class="language-plaintext highlighter-rouge">(lij)</code> is equivalent to <code class="language-plaintext highlighter-rouge">l@i@j</code>, or <code class="language-plaintext highlighter-rouge">l[i][j]</code> in most languages.</p> <p>Within a function, the arguments are available through the local variables <code class="language-plaintext highlighter-rouge">a-e</code>. For example, the function <code class="language-plaintext highlighter-rouge">{a+b}</code> takes two arguments and adds them; it could be called like so: <code class="language-plaintext highlighter-rouge">({a+b}1 2)</code>, or assigned to a variable first. The local variable <code class="language-plaintext highlighter-rouge">g</code> contains the entire list of arguments that were passed in (mnemonic: ar<strong>g</strong>s). The local variable <code class="language-plaintext highlighter-rouge">f</code> contains a reference to the current function, allowing recursion even in anonymous functions. Functions do not have a set arity, although a function cannot be called with zero arguments. The last bare expression in a function is its return value. If a function does not end in an expression, it returns nil.</p> <p>The main program is an implicitly declared anonymous function, which gets its arguments from the command-line args and prints its return value. Thus, a full factorial program can be written using recursion as <code class="language-plaintext highlighter-rouge">a?a*(fa-1)1</code>–identical to a factorial function, just without the curly braces.</p> <p>The <code class="language-plaintext highlighter-rouge">M</code> operator is used to map a function to each element of a list, range, or scalar: <code class="language-plaintext highlighter-rouge">_*_ M ,5</code> gives <code class="language-plaintext highlighter-rouge">[0 1 4 9 16]</code>. The result is always a list, although there are also operators like <code class="language-plaintext highlighter-rouge">MJ</code> “map-join” and <code class="language-plaintext highlighter-rouge">MS</code> “map-sum” that perform further operations on the result list after mapping.</p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2015-2020 David Loscutoff. Distributed on Github.</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
